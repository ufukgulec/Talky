@using Talky.EntityLayer.Concrete
@model Channel
@{
    ViewBag.Title = "Index";
}

<div class="col-3 channel-side">
    <div class="list-group">
        <div style="z-index: 100; border-bottom:1px solid #d3d3d4; padding: 20px; margin-bottom: 20px;" class="list-group-item list-group-item-action sticky-top bg-dark text-white" aria-current="true">
            <div class="d-flex w-100 justify-content-between">
                <h5 class="mb-1 serverName" id="server-@Model.ServerId">@Model.Server.Name</h5>
                <small>Server Owner</small>
            </div>
            <div class="d-grid gap-2">
                <button class="btn btn-primary btn-sm">New Channel</button>
            </div>
        </div>
        <div id="ChannelGetAll">
            <!--Jquery-->
        </div>
    </div>
</div>
<div class="col-7 message-side">

    <div class="row m-0 sticky-top text-center channel-name">
        <div class="col-3">
            <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-hash" viewBox="0 0 16 16">
                <path d="M8.39 12.648a1.32 1.32 0 0 0-.015.18c0 .305.21.508.5.508.266 0 .492-.172.555-.477l.554-2.703h1.204c.421 0 .617-.234.617-.547 0-.312-.188-.53-.617-.53h-.985l.516-2.524h1.265c.43 0 .618-.227.618-.547 0-.313-.188-.524-.618-.524h-1.046l.476-2.304a1.06 1.06 0 0 0 .016-.164.51.51 0 0 0-.516-.516.54.54 0 0 0-.539.43l-.523 2.554H7.617l.477-2.304c.008-.04.015-.118.015-.164a.512.512 0 0 0-.523-.516.539.539 0 0 0-.531.43L6.53 5.484H5.414c-.43 0-.617.22-.617.532 0 .312.187.539.617.539h.906l-.515 2.523H4.609c-.421 0-.609.219-.609.531 0 .313.188.547.61.547h.976l-.516 2.492c-.008.04-.015.125-.015.18 0 .305.21.508.5.508.265 0 .492-.172.554-.477l.555-2.703h2.242l-.515 2.492zm-1-6.109h2.266l-.515 2.563H6.859l.532-2.563z" />
            </svg>
        </div>
        <div class="col-6">
            <h5 id="current" data-serverid="@Model.ServerId" data-channelid="@Model.Id" class="mb-1">@Model.Name</h5>
        </div>
        <div class="col-3">
            <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-sliders" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M11.5 2a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM9.05 3a2.5 2.5 0 0 1 4.9 0H16v1h-2.05a2.5 2.5 0 0 1-4.9 0H0V3h9.05zM4.5 7a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM2.05 8a2.5 2.5 0 0 1 4.9 0H16v1H6.95a2.5 2.5 0 0 1-4.9 0H0V8h2.05zm9.45 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm-2.45 1a2.5 2.5 0 0 1 4.9 0H16v1h-2.05a2.5 2.5 0 0 1-4.9 0H0v-1h9.05z" />
            </svg>
        </div>
    </div>
    <div class="row m-0 messages" id="message-area">
        <div class="col" id="MessageGetAll">
            @*@foreach (var item in Model.Messages)
                {
                    if (item.UserId == int.Parse(HttpContext.Current.User.Identity.Name))
                    {
                        <div class="row message sended">
                            <div class="col">
                                <div class="row">
                                    <div class="col-6 mb-2">
                                        <span>
                                            <img class="serverlogo" src="https://www.w3schools.com/howto/img_avatar.png" alt="Avatar">
                                            @item.User.Name
                                        </span>
                                    </div>
                                    <div class="col-6  mb-2">
                                        <span class="float-end">
                                            @item.SendingTime
                                        </span>
                                    </div>
                                    <hr />
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <p class="fw-lighter">@item.Text</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    }
                    else
                    {
                        <div class="row message received">
                            <div class="col">
                                <div class="row">
                                    <div class="col-6 mb-2">
                                        <span>
                                            <img class="serverlogo" src="https://www.w3schools.com/howto/img_avatar.png" alt="Avatar">
                                            @item.User.Name
                                        </span>
                                    </div>
                                    <div class="col-6  mb-2">
                                        <span class="float-end">
                                            @item.SendingTime
                                        </span>
                                    </div>
                                    <hr />
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <p class="fw-lighter">@item.Text</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    }
                }*@

            @*<div class="row message sended">
                    <div class="col">
                        <div class="row">
                            <div class="col-6  mb-2">
                                <span class="float-start">
                                    10.06.2021 21:56
                                </span>
                            </div>
                            <div class="col-6 mb-2">
                                <span class="float-end">
                                    <img class="serverlogo" src="https://www.w3schools.com/howto/img_avatar.png" alt="Avatar">
                                    yunusbaser
                                </span>
                            </div>
                            <hr />
                        </div>
                        <div class="row">
                            <div class="col">
                                <p class="fw-lighter">asdasdasdasdasd</p>
                            </div>
                        </div>
                    </div>
                </div>*@
        </div>
    </div>
    <div class="row m-0 message-inputs" id="input">
        <form method="post" id="msg">
            <input name="ChannelId" hidden value="@Model.Id" />
            <input name="UserId" hidden value="@HttpContext.Current.User.Identity.Name" />
            <div class="input-group ">
                <input type="text" name="Text" class="form-control" placeholder="Send message" aria-label="Recipient's username" aria-describedby="button-addon2">
                <button class="btn btn-success" type="button" onclick="Message()" id="button-addon2">Send</button>
            </div>
        </form>
    </div>
</div>
<div class="col-2 user-side pt-1">
    <h2 class="text-center text-white border-bottom">Users</h2>
    <div class="row m-0">
        <div class="col p-0">
            <div class="list-group">
                <a href="#" class="list-group-item list-group-item-action"><img class="serverlogo" src="https://www.w3schools.com/howto/img_avatar.png" alt="Avatar"> ufukgulec</a><a href="#" class="list-group-item list-group-item-action"><img class="serverlogo" src="https://www.w3schools.com/howto/img_avatar.png" alt="Avatar"> ufukgulec</a><a href="#" class="list-group-item list-group-item-action"><img class="serverlogo" src="https://www.w3schools.com/howto/img_avatar.png" alt="Avatar"> yunusbaser</a>
                <a href="#" class="list-group-item list-group-item-action"><img class="serverlogo" src="https://www.w3schools.com/howto/img_avatar.png" alt="Avatar"> ufukgulec</a><a href="#" class="list-group-item list-group-item-action"><img class="serverlogo" src="https://www.w3schools.com/howto/img_avatar.png" alt="Avatar"> ufukgulec</a><a href="#" class="list-group-item list-group-item-action"><img class="serverlogo" src="https://www.w3schools.com/howto/img_avatar.png" alt="Avatar"> yunusbaser</a><a href="#" class="list-group-item list-group-item-action"><img class="serverlogo" src="https://www.w3schools.com/howto/img_avatar.png" alt="Avatar"> ufukgulec</a><a href="#" class="list-group-item list-group-item-action"><img class="serverlogo" src="https://www.w3schools.com/howto/img_avatar.png" alt="Avatar"> ufukgulec</a><a href="#" class="list-group-item list-group-item-action"><img class="serverlogo" src="https://www.w3schools.com/howto/img_avatar.png" alt="Avatar"> yunusbaser</a><a href="#" class="list-group-item list-group-item-action"><img class="serverlogo" src="https://www.w3schools.com/howto/img_avatar.png" alt="Avatar"> ufukgulec</a><a href="#" class="list-group-item list-group-item-action"><img class="serverlogo" src="https://www.w3schools.com/howto/img_avatar.png" alt="Avatar"> ufukgulec</a>
            </div>
        </div>
    </div>
</div>